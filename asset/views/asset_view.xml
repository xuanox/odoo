<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>

    <!-- Asset Tree View  -->
    <record id="assets_tree_view" model="ir.ui.view">
      <field name="name">asset.asset.tree</field>
      <field name="model">asset.asset</field>
      <field name="arch" type="xml">
        <tree string="Assets">
          <field name="asset_number"/>
          <field name="name"/>
          <field name="property_stock_asset"/>
          <field name="criticality"/>
          <field name="user_id"/>
					<field name="stage_id"/>
        </tree>
      </field>
    </record>

  <!-- Asset Form View  -->
  	<record id="assets_form_view" model="ir.ui.view">
      <field name="name">asset.asset.form</field>
      <field name="model">asset.asset</field>
      <field name="arch" type="xml">
        <form string="Assets" version="7.0">
          <header>
            <field name="stage_id" widget="statusbar" clickable="True" groups="asset.group_mro_user"/>
          </header>
          <sheet>
            <div class="oe_right oe_button_box" style="width: 300px;" name="buttons">
      			</div>
            <field name="image_medium" widget="image" class="oe_avatar oe_left"/>
            <div class="oe_title">
              <label for="name" class="oe_edit_only"/>
              <h1><field name="name"/></h1>
              <field name="category_ids" widget="many2many_tags" placeholder="Tags..."/>
            </div>
            <group>
              <field name="property_stock_asset" domain="[('usage','=','asset')]"/>
            </group>
            <group>
              <group>
                <field name="criticality"/>
                <field name="user_id"/>
              </group>
              <group>
                <field name="active"/>
              </group>
            </group>
            <notebook>
              <page name="info" string="Info">
                <group>
                  <group>
                    <field name="asset_number"/>
                    <field name="model"/>
                    <field name="serial"/>
                  </group>
                  <group>
                  </group>
                </group>
                <group string="Warranty">
                  <group>
                    <field name="manufacturer_id"/>
                    <field name="start_date"/>
                    <field name="warranty_start_date"/>
                  </group>
                  <group>
                    <field name="vendor_id"/>
                    <field name="purchase_date"/>
                    <field name="warranty_end_date"/>
                  </group>
                </group>
              </page>
            </notebook>
          </sheet>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers"/>
            <field name="message_ids" widget="mail_thread"/>
          </div>
        </form>
      </field>
    </record>

    <!-- Asset Kanban View  -->
    <record model="ir.ui.view" id="assets_kanban_view">
    	<field name="name">Asset Kanban</field>
      <field name="model">asset.asset</field>
      <field name="arch" type="xml">
        <kanban>
          <field name="maintenance_state_id"/>
          <field name="maintenance_state_color"/>
          <field name="user_id"/>
          <field name="criticality"/>
          <field name="id" />
            <templates>
              <t t-name="kanban-box">
              <div class="oe_kanban_vignette">
                <div class="codup_kanban_left">
                  <a type="open"></a>
                  <div t-attf-title="#{record.maintenance_state_id.value}" t-attf-class="codup_status_color_#{record.maintenance_state_color.raw_value} codup_status"></div>
                </div>
                <div class="oe_kanban_details">
                  <h4>
                    <a type="open"><field name="name"/></a>
                  </h4>
                  <ul>
                    <li>Model: <field name="model"></field></li>
                    <li>Manufacturer: <field name="manufacturer_id"></field></li>
                    <li>Serial No: <field name="serial"></field></li>
                    <li class="codup_kanban_info">
                    	<a t-if="record.criticality.raw_value == 0" t-attf-title="#{record.criticality.value}" class="codup_attention_off"><span class="fa fa-exclamation-triangle"/></a>
                    	<a t-if="record.criticality.raw_value gt 0" t-attf-title="#{record.criticality.value}" class="codup_attention_on"><span class="fa fa-exclamation-triangle"/></a>
                    	<a t-if="record.criticality.raw_value lte 1" t-attf-title="#{record.criticality.value}" class="codup_attention_off"><span class="fa fa-exclamation-triangle"/></a>
                    	<a t-if="record.criticality.raw_value gt 1" t-attf-title="#{record.criticality.value}" class="codup_attention_on"><span class="fa fa-exclamation-triangle"/></a>
                    	<a t-if="record.criticality.raw_value lte 2" t-attf-title="#{record.criticality.value}" class="codup_attention_off"><span class="fa fa-exclamation-triangle"/></a>
                    	<a t-if="record.criticality.raw_value gt 2" t-attf-title="#{record.criticality.value}" class="codup_attention_on"><span class="fa fa-exclamation-triangle"/></a>
                    </li>
                  </ul>
                </div>
              </div>
            	</t>
          	</templates>
        </kanban>
      </field>
    </record>

    <!-- Asset Search  -->
    <record model="ir.ui.view" id="assets_search">
    	<field name="name">Asset Search</field>
      <field name="model">asset.asset</field>
      <field name="arch" type="xml">
        <search string="Asset Search">
          <field name="asset_number"/>
          <field name="name"/>
          <field name="property_stock_asset"/>
          <field name="criticality"/>
          <field name="user_id"/>
          <field name="category_ids"/>
          <separator />
          <group expand="0" string="Group By">
          	<filter name="group_name" string="Name" context="{'group_by': 'name'}"/>
          	<filter name="group_user" string="User" context="{'group_by': 'user_id'}"/>
          </group>
        </search>
      </field>
    </record>

		<!-- Asset Action  -->
    <record id="action_assets" model="ir.actions.act_window">
      <field name="name">Assets</field>
      <field name="type">ir.actions.act_window</field>
    	<field name="res_model">asset.asset</field>
      <field name="view_type">form</field>
      <field name="view_mode">kanban,tree,form</field>
      <field name="view_id" eval="False"/>
    </record>

    <record model="ir.actions.act_window.view" id="action_assets_kanban_view">
      <field name="sequence" eval="0"/>
      <field name="view_mode">kanban</field>
      <field name="view_id" ref="assets_kanban_view"/>
      <field name="act_window_id" ref="action_assets"/>
    </record>

    <record model="ir.actions.act_window.view" id="action_assets_tree_view">
      <field name="sequence" eval="1"/>
      <field name="view_mode">tree</field>
      <field name="view_id" ref="assets_tree_view"/>
      <field name="act_window_id" ref="action_assets"/>
    </record>

    <record model="ir.actions.act_window.view" id="action_assets_form_view">
      <field name="sequence" eval="2"/>
      <field name="view_mode">form</field>
      <field name="view_id" ref="assets_form_view"/>
      <field name="act_window_id" ref="action_assets"/>
    </record>

    <!-- Asset Tags Tree View -->
    <record id="asset_category_tree_view" model="ir.ui.view">
    	<field name="name">asset.category.tree</field>
      <field name="model">asset.category</field>
      <field name="arch" type="xml">
      	<tree string="Asset Tags" editable="top">
          <field name="name"/>
        </tree>
      </field>
    </record>

		<!-- Asset Tags Action -->
    <record id="action_asset_category" model="ir.actions.act_window">
      <field name="name">Asset Tags</field>
      <field name="type">ir.actions.act_window</field>
      <field name="res_model">asset.category</field>
    	<field name="view_type">form</field>
      <field name="view_mode">tree</field>
    </record>

		<!-- Asset State Form View  -->
		<record id="asset_stage_form_view" model="ir.ui.view">
			<field name="name">asset.stage.form</field>
		  <field name="model">asset.stage</field>
		  <field name="arch" type="xml">
		    <form string="Stage">
		      <sheet>
		        <div class="oe_title">
		          <label for="name"/>
		          <h1><field name="name" class="oe_inline"/></h1>
		        </div>
		        <group>
		          <group>
		            <field name="state_color"/>
		            <field name="sequence"/>
								<field name="is_offline"/>
		            <field name="fold"/>
								<field name="template_id"/>
		          </group>
		        	<group>
		        	</group>
		        </group>
		      </sheet>
		    </form>
		  </field>
		</record>

		<!-- Asset State Kanban View  -->
		<record id="asset_stage_tree_view" model="ir.ui.view">
		  <field name="name">Asset Stage Tree</field>
		  <field name="model">asset.stage</field>
		  <field name="arch" type="xml">
		    <tree>
		      <field name="name"/>
		      <field name="state_color"/>
		      <field name="sequence" widget="handle"/>
					<field name="is_offline"/>
					<field name="fold"/>
					<field name="template_id"/>
		    </tree>
		  </field>
		</record>

		<!-- Asset Stage Action -->
		<record id="action_asset_stage" model="ir.actions.act_window">
		  <field name="name">Asset Stages</field>
		 	<field name="type">ir.actions.act_window</field>
		  <field name="res_model">asset.stage</field>
		  <field name="view_type">form</field>
		  <field name="view_mode">tree,form</field>
		</record>

 	</data>
</odoo>
