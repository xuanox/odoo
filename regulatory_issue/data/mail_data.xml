<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Regulatory -specific activities, for automatic generation mainly -->
    <record id="mail_act_regulatory_technical_file_creation" model="mail.activity.type">
        <field name="name">Regulatory - Assign Priority TFC</field>
        <field name="icon">fa-star</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_creation"/>
    </record>

    <record id="mail_act_review_regulatory_technical_file_creation" model="mail.activity.type">
        <field name="name">Regulatory - TFC Review</field>
        <field name="icon">fa-check-square</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_creation"/>
    </record>

    <record id="mail_act_scheduled_regulatory_technical_file_creation" model="mail.activity.type">
        <field name="name">Regulatory - TFM Scheduled Appointment</field>
        <field name="icon">fa-calendar-check-o</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_creation"/>
    </record>

    <record id="mail_act_scheduled_ar_regulatory_technical_file_creation" model="mail.activity.type">
        <field name="name">Regulatory - TFM Scheduled Appointment</field>
        <field name="icon">fa-calendar</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_creation"/>
    </record>

    <record id="mail_act_regulatory_technical_file_modification" model="mail.activity.type">
        <field name="name">Regulatory - Assign Priority TFM</field>
        <field name="icon">fa-star</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_modification"/>
    </record>

    <record id="mail_act_review_regulatory_technical_file_modification" model="mail.activity.type">
        <field name="name">Regulatory - TFM Review</field>
        <field name="icon">fa-check-square</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_modification"/>
    </record>

    <record id="mail_act_scheduled_regulatory_technical_file_modification" model="mail.activity.type">
        <field name="name">Regulatory - TFM Scheduled Appointment</field>
        <field name="icon">fa-calendar-check-o</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_modification"/>
    </record>

    <record id="mail_act_scheduled_ar_regulatory_technical_file_modification" model="mail.activity.type">
        <field name="name">Regulatory - TFM Scheduled Appointment</field>
        <field name="icon">fa-calendar</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_modification"/>
    </record>

    <record id="mail_act_regulatory_technical_file_registry" model="mail.activity.type">
        <field name="name">Regulatory - Assign Priority TFR</field>
        <field name="icon">fa-star</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_registry"/>
    </record>

    <record id="mail_act_review_regulatory_technical_file_registry" model="mail.activity.type">
        <field name="name">Regulatory - TFR Review</field>
        <field name="icon">fa-check-square</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_registry"/>
    </record>

    <record id="mail_act_scheduled_regulatory_technical_file_registry" model="mail.activity.type">
        <field name="name">Regulatory - TFR Scheduled Appointment</field>
        <field name="icon">fa-calendar-check-o</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_registry"/>
    </record>

    <record id="mail_act_scheduled_ar_regulatory_technical_file_registry" model="mail.activity.type">
        <field name="name">Regulatory - TFR Scheduled Appointment</field>
        <field name="icon">fa-calendar</field>
        <field name="res_model_id" ref="regulatory_issue.model_regulatory_technical_file_registry"/>
    </record>

    <!-- Registry Request-related subtypes for messaging / Chatter -->
    <record id="registry_request_created" model="mail.message.subtype">
        <field name="name">Registry Request - Created</field>
        <field name="res_model">regulatory.technical.file.registry</field>
        <field name="default" eval="False"/>
        <field name="hidden" eval="True"/>
        <field name="description">Registry Request Created</field>
    </record>

    <record id="registry_request_status" model="mail.message.subtype">
        <field name="name">Registry Request - Status Changed</field>
        <field name="res_model">regulatory.technical.file.registry</field>
        <field name="default" eval="True"/>
        <field name="description">Status Changed</field>
    </record>

    <!-- Creation Request-related subtypes for messaging / Chatter -->
    <record id="creation_request_created" model="mail.message.subtype">
        <field name="name">Creation Request - Created</field>
        <field name="res_model">regulatory.technical.file.creation</field>
        <field name="default" eval="False"/>
        <field name="hidden" eval="True"/>
        <field name="description">Creation Request Created</field>
    </record>

    <record id="creation_request_status" model="mail.message.subtype">
        <field name="name">Creation Request - Status Changed</field>
        <field name="res_model">regulatory.technical.file.creation</field>
        <field name="default" eval="True"/>
        <field name="description">Status Changed</field>
    </record>

    <!-- Modification Request-related subtypes for messaging / Chatter -->
    <record id="modification_request_created" model="mail.message.subtype">
        <field name="name">Modification Request - Created</field>
        <field name="res_model">regulatory.technical.file.modification</field>
        <field name="default" eval="False"/>
        <field name="hidden" eval="True"/>
        <field name="description">Modification Request Created</field>
    </record>

    <record id="modification_request_status" model="mail.message.subtype">
        <field name="name">Modification Request - Status Changed</field>
        <field name="res_model">regulatory.technical.file.modification</field>
        <field name="default" eval="True"/>
        <field name="description">Status Changed</field>
    </record>

    <!-- state "New" gets created by default with sequence 0-->
    <record id="state_draft" model="regulatory.technical.file.creation">
        <field name="name">New</field>
        <field name="state">draft</field>
        <field name="is_creation_rejected" eval="False"/>
        <field name="template_id" ref="regulatory_issue.new_tfc_request_email_template"/>
    </record>

    <record id="new_tfc_request_email_template" model="mail.template">
        <field name="name">Ticket: Reception Acknowledgment</field>
        <field name="model_id" ref="regulatory_issue.model_regulatory_technical_file_creation"/>
        <field name="subject">${object.name}</field>
        <field name="email_from">${object.user_id.email_formatted | safe}</field>
        <field name="email_to"></field>
        <field name="partner_to"></field>
        <field name="lang"> ${object.user_id.lang or user.lang | safe}</field>
        <field name="body_html" type="xml">
<div>
    Dear ${object.sudo().user_id.name or 'Madam/Sir'},<br /><br />
    Your request
    % if object.access_token:
    <a href="">${object.name}</a>
    % endif
    has been received and is being reviewed by our team.
    The reference of your ticket is ${object.name}.<br /><br />
    To add additional comments, reply to this email.<br />
    Thanks you,<br /><br />
    Team.
</div>
        </field>
        <field name="auto_delete" eval="False"/>
    </record>
</odoo>
